!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.slimStencilTools=e():t.slimStencilTools=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.Product=e.Cart=e.Page=e.Base=void 0;var o=n(1),u=r(o),i=n(3),c=r(i),a=n(4),s=r(a),d=n(5),f=r(d),l={Base:u,Page:c,Cart:s,Product:f};e.Base=u,e.Page=c,e.Cart=s,e.Product=f,e.default=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.bcClient=void 0;var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(2),i=r(u),c={url:"",method:"GET",actionName:"",component:null,remote:!1,reqUrl:!1,formData:null,params:{},config:{},headers:{}},a=function(t){var e=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");return e};e.bcClient=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,e=Object.assign({},c,t),n=e.formData?e.formData:a(e.params),r=e.remote?"/remote/v1"+e.url:e.url,u=e.reqUrl?r+"?"+n:r;return new Promise(function(t,r){fetch(u,{method:e.method,headers:o({},e.headers,{"stencil-config":e.config?JSON.stringify(e.config):"{}","stencil-options":e.component?JSON.stringify({render_with:"data/"+e.component.toLowerCase()+"-data"}):"{}"}),body:"GET"===e.method?null:n,credentials:"include"}).then(i.default).then(function(t){return t.json()}).then(function(n){return t(e.remote?n.data:JSON.parse(n))}).catch(function(t){return r(new Error(t))})})}},function(t,e){"use strict";function n(t){if(!t.ok)throw Error(t.statusText);return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.getPage=void 0;var o=n(2),u=r(o);e.getPage=function(t,e){return new Promise(function(n,r){fetch(t,{headers:{"stencil-config":"{}","stencil-options":JSON.stringify({render_with:e})},credentials:"include"}).then(u.default).then(function(t){return t.json()}).then(function(t){return n(JSON.parse(t))}).catch(function(t){return r(new Error(t))})})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.submitCouponCode=e.submitShippingEstimate=e.getShippingEstimate=e.updateCartQty=e.removeFromCart=e.addToCart=e.getCartContent=void 0;var r=n(1);e.getCartContent=function(){return new Promise(function(t,e){(0,r.bcClient)({url:"/cart.php",component:"cart"}).then(function(e){return t(e)}).catch(function(t){return e(new Error(t))})})},e.addToCart=function(t){return new Promise(function(e,n){(0,r.bcClient)({url:"/cart/add",method:"POST",remote:!0,formData:t}).then(function(t){return e(t)}).catch(function(t){return n(new Error(t))})})},e.removeFromCart=function(t){var e=new FormData;return e.append("items[0][id]",t),e.append("items[0][quantity]",0),new Promise(function(t,n){(0,r.bcClient)({url:"/cart/update",method:"POST",remote:!0,formData:e}).then(function(e){"succeed"===e.status?t(e):n(e)}).catch(function(t){return n(new Error(t))})})},e.updateCartQty=function(t){var e=new FormData;return e.append("items[0][id]",t.itemId),e.append("items[0][quantity]",t.qty),new Promise(function(t,n){(0,r.bcClient)({url:"/cart/update",method:"POST",remote:!0,formData:e}).then(function(e){"succeed"===e.status?t(e):n(e)}).catch(function(t){return n(new Error(t))})})},e.getShippingEstimate=function(t){return new Promise(function(e,n){(0,r.bcClient)({url:"/shipping-quote",method:"GET",remote:!0,reqUrl:!0,params:t}).then(function(t){"failed"!==t.status?e(t):n(t)}).catch(function(t){return n(new Error(t))})})},e.submitShippingEstimate=function(t){return new Promise(function(e,n){(0,r.bcClient)({url:"/shipping-quote",method:"POST",remote:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},params:t}).then(function(t){"failed"!==t.status?e(t):n(t)}).catch(function(t){return n(new Error(t))})})},e.submitCouponCode=function(t){return new Promise(function(e,n){(0,r.bcClient)({url:"/apply-code",method:"POST",remote:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},params:{code:t}}).then(function(t){"failed"!==t.status?e(t):n(t)}).catch(function(t){return n(new Error(t))})})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getProduct=void 0;var r=n(1);e.getProduct=function(t){return(0,r.bcClient)({url:"/products.php?productId="+t,component:"product"})}}])});
//# sourceMappingURL=slim-stencil-tools.min.js.map
