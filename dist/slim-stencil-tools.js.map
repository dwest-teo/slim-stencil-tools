{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap cbde97c8ed43e823253f","webpack:///./src/slim-stencil-tools.js","webpack:///./src/api/Base.js","webpack:///./src/lib/fetch-status.js","webpack:///./src/api/Page.js","webpack:///./src/api/Cart.js","webpack:///./src/api/Product.js"],"names":["Base","Page","Cart","Product","slimStencilTools","defaultOpts","url","method","actionName","component","remote","reqUrl","formData","params","config","headers","buildParams","obj","str","Object","keys","map","encodeURIComponent","key","join","bcClient","opts","options","assign","data","Promise","resolve","reject","fetch","JSON","stringify","render_with","toLowerCase","body","credentials","then","response","json","res","parse","catch","Error","error","fetchStatus","ok","statusText","getPage","template","getCartContent","addToCart","removeFromCart","itemId","removeFromCartData","FormData","append","status","updateCartQty","updateQtyCartData","qty","getShippingEstimate","submitShippingEstimate","submitCouponCode","code","getProduct","productId"],"mappings":"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","file":"slim-stencil-tools.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"slimStencilTools\"] = factory();\n\telse\n\t\troot[\"slimStencilTools\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap cbde97c8ed43e823253f\n **/","import * as Base from './api/Base';\nimport * as Page from './api/Page';\nimport * as Cart from './api/Cart';\nimport * as Product from './api/Product';\n\nconst slimStencilTools = {\n  Base,\n  Page,\n  Cart,\n  Product,\n};\n\nexport {\n  Base,\n  Page,\n  Cart,\n  Product,\n};\n\nexport default slimStencilTools;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/slim-stencil-tools.js\n **/","import fetchStatus from '../lib/fetch-status';\n\nconst defaultOpts = {\n  url: '',\n  method: 'GET',\n  actionName: '',\n  component: null,\n  remote: false,\n  reqUrl: false,\n  formData: null,\n  params: {},\n  config: {},\n  headers: {},\n};\n\nconst buildParams = (obj) => {\n  const str = Object.keys(obj).map(\n    key => `${encodeURIComponent(key)}=${encodeURIComponent(obj[key])}`\n  ).join('&');\n\n  return str;\n};\n\n// eslint-disable-next-line import/prefer-default-export\nexport const bcClient = (opts = defaultOpts) => {\n  const options = Object.assign({}, defaultOpts, opts);\n  const data = options.formData ? options.formData : buildParams(options.params);\n  const url = options.remote ? `/remote/v1${options.url}` : options.url;\n  const reqUrl = options.reqUrl ? `${url}?${data}` : url;\n\n  return new Promise((resolve, reject) => {\n    fetch(reqUrl, {\n      method: options.method,\n      headers: {\n        ...options.headers,\n        'stencil-config': options.config ? JSON.stringify(options.config) : '{}',\n        'stencil-options': options.component ? JSON.stringify({\n          render_with: `data/${options.component.toLowerCase()}-data`,\n        }) : '{}',\n      },\n      body: options.method === 'GET' ? null : data,\n      credentials: 'include',\n    }).then(fetchStatus)\n      .then(response => response.json())\n      .then(res => resolve(options.remote ? res.data : JSON.parse(res)))\n    .catch(error => reject(new Error(error)));\n  });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/api/Base.js\n **/","export default function fetchStatus(response) {\n  if (!response.ok) {\n    throw Error(response.statusText);\n  }\n\n  return response;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/fetch-status.js\n **/","import fetchStatus from '../lib/fetch-status';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const getPage = (url, template) => new Promise((resolve, reject) => {\n  fetch(url, {\n    headers: {\n      'stencil-config': '{}',\n      'stencil-options': JSON.stringify({ render_with: template }),\n    },\n    credentials: 'include',\n  }).then(fetchStatus)\n  .then(response => response.json())\n  .then(res => resolve(JSON.parse(res)))\n  .catch(error => reject(new Error(error)));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/api/Page.js\n **/","import { bcClient } from './Base';\n\nexport const getCartContent = () => new Promise((resolve, reject) => {\n  bcClient({\n    url: '/cart.php',\n    component: 'cart',\n  }).then(response => resolve(response))\n  .catch(error => reject(new Error(error)));\n});\n\nexport const addToCart = (formData) => new Promise((resolve, reject) => {\n  bcClient({\n    url: '/cart/add',\n    method: 'POST',\n    remote: true,\n    formData,\n  }).then(response => resolve(response))\n  .catch(error => reject(new Error(error)));\n});\n\nexport const removeFromCart = (itemId) => {\n  const removeFromCartData = new FormData();\n  removeFromCartData.append('items[0][id]', itemId);\n  removeFromCartData.append('items[0][quantity]', 0);\n\n  return new Promise((resolve, reject) => {\n    bcClient({\n      url: '/cart/update',\n      method: 'POST',\n      remote: true,\n      formData: removeFromCartData,\n    }).then(response => {\n      if (response.status === 'succeed') {\n        resolve(response);\n      } else {\n        reject(response);\n      }\n    }).catch(error => reject(new Error(error)));\n  });\n};\n\nexport const updateCartQty = (opts) => {\n  const updateQtyCartData = new FormData();\n  updateQtyCartData.append('items[0][id]', opts.itemId);\n  updateQtyCartData.append('items[0][quantity]', opts.qty);\n\n  return new Promise((resolve, reject) => {\n    bcClient({\n      url: '/cart/update',\n      method: 'POST',\n      remote: true,\n      formData: updateQtyCartData,\n    }).then(response => {\n      if (response.status === 'succeed') {\n        resolve(response);\n      } else {\n        reject(response);\n      }\n    }).catch(error => reject(new Error(error)));\n  });\n};\n\nexport const getShippingEstimate = (opts) => new Promise((resolve, reject) => {\n  bcClient({\n    url: '/shipping-quote',\n    method: 'GET',\n    remote: true,\n    reqUrl: true,\n    params: opts,\n  }).then(response => {\n    if (response.status !== 'failed') {\n      resolve(response);\n    } else {\n      reject(response);\n    }\n  }).catch(error => reject(new Error(error)));\n});\n\nexport const submitShippingEstimate = (params) => new Promise((resolve, reject) => {\n  bcClient({\n    url: '/shipping-quote',\n    method: 'POST',\n    remote: true,\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    params,\n  }).then(response => {\n    if (response.status !== 'failed') {\n      resolve(response);\n    } else {\n      reject(response);\n    }\n  }).catch(error => reject(new Error(error)));\n});\n\nexport const submitCouponCode = (code) => new Promise((resolve, reject) => {\n  bcClient({\n    url: '/apply-code',\n    method: 'POST',\n    remote: true,\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    params: { code },\n  }).then(response => {\n    if (response.status !== 'failed') {\n      resolve(response);\n    } else {\n      reject(response);\n    }\n  }).catch(error => reject(new Error(error)));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/api/Cart.js\n **/","import { bcClient } from './Base';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const getProduct = (productId) => bcClient({\n  url: `/products.php?productId=${productId}`,\n  component: 'product',\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/api/Product.js\n **/"],"sourceRoot":""}